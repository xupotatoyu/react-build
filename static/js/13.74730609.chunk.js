(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[13],{1241:function(t,e,n){},425:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return C}));n(131);var a=n(91),r=n.n(a),o=(n(181),n(95)),i=n.n(o),c=n(600),s=n.n(c),u=n(601),l=(n(179),n(60)),h=n.n(l),p=n(52),f=n(53),m=n(54),d=n(57),v=n(56),g=n(0),b=n.n(g),y=n(602),w=n.n(y),C=(n(631),n(1241),function(t){Object(d.a)(n,t);var e=Object(v.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).getInputValue=function(t){if(t&&t.target&&t.target.value){var e=t.target.value;a.setState({title:e})}},a.fetchPost=function(t,e){var n=Object(m.a)(a);fetch(t,{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST"}).then((function(t){return t.json()})).then((function(t){0===t.errno?(h.a.success("\u53d1\u5e03\u6210\u529f",2),n.props.history.push("/main")):h.a.error("\u4fdd\u5b58\u5931\u8d25")})).catch((function(t){return console.error(t)}))},a.submitContent=function(){var t=a.state.editorState.toHTML(),e={title:a.state.title,content:t};a.fetchPost("/api/blog/new",e),console.log("\u63d0\u4ea4")},a.saveContent=function(){a.getInputValue(),console.log("\u4fdd\u5b58")},a.handleEditorChange=function(t){a.setState({editorState:t})},a.state={editorState:w.a.createEditorState(null),title:""},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){window.localStorage.getItem("userName")||(h.a.error("\u8bf7\u5148\u767b\u5f55"),this.props.history.push("/main"))}},{key:"render",value:function(){var t=this,e=this.state.editorState;return b.a.createElement("div",{className:"write"},b.a.createElement("div",{className:"write-title"},b.a.createElement(i.a,{placeholder:"\u6807\u9898",onChange:function(e){return t.getInputValue(e)}})),b.a.createElement("div",{className:"write-content"},b.a.createElement(w.a,{value:e,onChange:this.handleEditorChange,onSave:this.saveContent})),b.a.createElement("div",{className:"write-button"},b.a.createElement(r.a,{type:"primary",onClick:this.saveContent},"\u4fdd\u5b58"),b.a.createElement("span",{className:"wspan"}),b.a.createElement(r.a,{type:"primary",onClick:this.submitContent},"\u63d0\u4ea4")))}}]),n}(b.a.Component))}}]);
//# sourceMappingURL=13.74730609.chunk.js.map